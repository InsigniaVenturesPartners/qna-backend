# Insignia Community


## Overview
Insignia Community is a discussion forum made with Ruby on Rails, React, and Redux.

## Getting Started
1. Ensure you have installed [Node.js](https://nodejs.org/en/download/) and [Bundler](https://bundler.io/)
2. ``bundle install``
3. ``rake db:migrate``
4. ``rake db:seed``
5. ``npm install``
6. To run the server, run ``rails server``. The web app will run on ``localhost:3000``
7. To make webpack watch files, open a new terminal tab, then run ``npm run watch``

## Configuration
#### Google Sign In for development
1. ``export GOOGLE_CLIENT_ID=1088352541792-g3gme4e9ol8akmus0qj5do2nb9fql373.apps.googleusercontent.com``
2. ``export GOOGLE_CLIENT_SECRET=Y1nYjF22M1udQWJtj2UmdyeP``


## Key Features

#### Questions

  Users can ask, search, and answer questions, with the main page consisting of a feed of questions selected from a user's followed topics. Questions are followable and down-votable. Downvoting hides question content.

#### Question Search

   When users enter a string of keywords, Insignia Community searches for any questions that contain words that begin with any of the keywords. A match score is calculated based on what fraction of the question matches the keywords. Questions are ordered based on match score and the top ones are returned. Matching fragments of questions are displayed in bold in the search results.

#### Topics

  Topics are followable, which will make the topic appear in a user's main feed. Users can search for topics to follow, with an empty query resulting in a selection of popular topics that the user does not currently follow.

#### Answers/Comments

  Users can answer questions and comment on other answers. A basic text editor allows users to style their answers and include links and images.

#### User Authentication

  Users sign up for Insignia Community by linking their Google account. Users can simply click the "Continue with Google" button to log in.


## Technology Used

  #### [Devise](https://github.com/plataformatec/devise) + [Omniauth](https://github.com/omniauth/omniauth)

  Used to handle user creation and authentication through Google. Main challenges involved integrating Devise and Omniauth with react and automatically sending email confirmation links to new sign ups.

  #### [Koala](https://github.com/arsduo/koala)

  Enables Insignia Community to pull important user information from the Google session token generated by Devise and Omniauth. When users sign up for Insignia Community, their profile picture, name, and email are pulled and used throughout the site.

  #### [Acts as Votable](https://github.com/ryanto/acts_as_votable) + [Acts as Commentable](https://github.com/elight/acts_as_commentable_with_threading)
  Allowed quick creation of polymorphic join tables with a bunch of useful methods. These methods were then used to craft custom methods tailored to Insignia Community's needs, such as `user.follows?(entity)` and `answer.num_upvotes`.

  #### [Quill](https://github.com/zenoamaro/react-quill)
  Provides a nice text editor allowing users to style their answers, which stores that input as HTML. The text editor toolbar was customized to mimic that of Quora's, and HTMLParser was used to display the stored html.
